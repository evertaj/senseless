$(document).ready () ->
  $('#likes_counter').click ->
    id = $('.likes_val').data('id')
    $.ajax
      type: "GET",
      url: '/posts/'+id+'/like',
      dataType: 'json'
      error: (jqXHR, textStatus, errorThrown) ->
        alert "AJAX Error: #{textStatus}"
      success: (data, textStatus, jqXHR) ->
        if $('.like_img').hasClass("jopa")
          $('.like_img').removeClass("jopa")
        else
          $('.like_img').addClass("jopa")
        $('.likes_val').text("#{data.likes_count}")